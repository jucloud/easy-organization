# [Easy Organization](https://github.com/jucloud/easy-organization)

## å‰è¨€

ğŸ“¦ ä¸€ä¸ª PHP è·å–ç¬¬ä¸‰æ–¹ï¼ˆå¤©çœ¼æŸ¥ã€ä¼æŸ¥æŸ¥ã€å¯ä¿¡å®ï¼‰å·¥å•†ä¿¡æ¯ SDKï¼Œå…¬å¸ä¸šåŠ¡éœ€æ±‚é—®é¢˜ï¼Œç›®å‰åªå®ç°äº†æœç´¢å’Œè·å–æœºæ„åŸºæœ¬ä¿¡æ¯ï¼Œå…¶ä½™æ¥å£æœªè¿›è¡Œå¯¹æ¥ï¼Œå¤§å®¶å¦‚æœ‰éœ€æ±‚å¯æ ¹æ®éœ€æ±‚è‡ªè¡Œforkæˆ–è€…æäº¤prã€‚

ä¸ºäº†èŠ‚çº¦å®ç°æ—¶é—´åŠ å¿«ä¸šåŠ¡å®ç°ï¼Œæ€»ä½“æ¶æ„å€Ÿé‰´äº†[yansongda/pay](https://github.com/yansongda/pay)ï¼Œä¹‹å‰åœ¨åšæ”¯ä»˜ç›¸å…³ä¸šåŠ¡æ—¶ï¼Œè½®å­é€ çš„å¾ˆä¸é”™ï¼Œæ¯”è¾ƒç®€å•å®¹æ˜“ç†è§£ï¼Œè€Œä¸”ä»£ç ä¼˜é›…ï¼Œæ„Ÿè°¢yansongdaä½œå‡ºçš„æŠ€æœ¯è´¡çŒ®ã€‚

æ¬¢è¿ Starï¼Œæ¬¢è¿ PRï¼


[![Latest Stable Version](https://poser.pugx.org/jucloud/easy-organization/v/stable.svg)](https://packagist.org/packages/jucloud/easy-organization)
[![Latest Unstable Version](https://poser.pugx.org/jucloud/easy-organization/v/unstable.svg)](https://packagist.org/packages/jucloud/easy-organization)
[![Total Downloads](https://poser.pugx.org/jucloud/easy-organization/downloads)](https://packagist.org/packages/jucloud/easy-organization)
[![License](https://poser.pugx.org/jucloud/easy-organization/license)](https://packagist.org/packages/jucloud/easy-organization)



## ç‰¹ç‚¹

- å¤šç§Ÿæˆ·æ”¯æŒ
- Swoole æ”¯æŒ
- çµæ´»çš„æ’ä»¶æœºåˆ¶
- ä¸°å¯Œçš„äº‹ä»¶ç³»ç»Ÿ
- æ ¹æ®å¤©çœ¼æŸ¥ã€ä¼æŸ¥æŸ¥ã€å¯ä¿¡å®æœ€æ–° API å¼€å‘è€Œæˆ
- æ–‡ä»¶ç»“æ„æ¸…æ™°æ˜“ç†è§£ï¼Œå¯ä»¥éšå¿ƒæ‰€æ¬²æ·»åŠ æœ¬é¡¹ç›®ä¸­æœªæ”¯æŒçš„ç½‘å…³
- æ–¹æ³•ä½¿ç”¨æ›´ä¼˜é›…ï¼Œä¸å¿…å†å»ç ”ç©¶é‚£äº›å¥‡æ€ªçš„çš„æ–¹æ³•åæˆ–è€…ç±»åæ˜¯åšå•¥ç”¨çš„
- ç¬¦åˆ PSR2ã€PSR3ã€PSR4ã€PSR7ã€PSR11ã€PSR14ã€PSR18 ç­‰å„é¡¹æ ‡å‡†ï¼Œä½ å¯ä»¥å„ç§æ–¹ä¾¿çš„ä¸ä½ çš„æ¡†æ¶é›†æˆ

## è¿è¡Œç¯å¢ƒ
- PHP 7.4+
- composer

## æ”¯æŒçš„æ–¹æ³•

### å¤©çœ¼æŸ¥

- [æœç´¢](https://open.tianyancha.com/open/816)
- [ä¼ä¸šåŸºæœ¬ä¿¡æ¯](https://open.tianyancha.com/open/817)
- [ç‰¹æ®Šä¼ä¸šåŸºæœ¬ä¿¡æ¯](https://open.tianyancha.com/open/1117)
- [ä¼ä¸šåŸºæœ¬ä¿¡æ¯ï¼ˆå«ä¼ä¸šè”ç³»æ–¹å¼ï¼‰](https://open.tianyancha.com/open/818)
- ...

### ä¼æŸ¥æŸ¥

- [ä¼ä¸šæœç´¢](https://openapi.qcc.com/dataApi/1027)
- [ä¼ä¸šå·¥å•†æ¨¡ç³Šæœç´¢](https://openapi.qcc.com/dataApi/886)
- [ä¼ä¸šå·¥å•†ç…§é¢](https://openapi.qcc.com/dataApi/410)
- ...


### å¯ä¿¡å®

- [é«˜çº§æœç´¢](https://data.qixin.com/api-detail?categoryId=1309333f837748bbafda78c9d02f40d8&apiId=1.2&from=qxb-c-api)
- [æ¨¡ç³Šæœç´¢](https://data.qixin.com/api-detail?categoryId=1309333f837748bbafda78c9d02f40d8&apiId=1.31&from=qxb-c-api)
- [å·¥å•†ç…§é¢](https://data.qixin.com/api-detail?categoryId=27C4602EBB38429EK08QR7fy&apiId=1.41&from=qxb-c-api)
- [å¾‹æ‰€åŸºæœ¬ä¿¡æ¯](https://data.qixin.com/api-detail?categoryId=27C4602EBB38429EK08QR7fy&apiId=35.2&from=qxb-c-api)
- [ç¤¾ä¼šç»„ç»‡åŸºæœ¬ä¿¡æ¯](https://data.qixin.com/api-detail?categoryId=27C4602EBB38429EK08QR7fy&apiId=36.2&from=qxb-c-api)
- [é¦™æ¸¯ä¼ä¸šä¿¡æ¯](https://data.qixin.com/api-detail?categoryId=27C4602EBB38429EK08QR7fy&apiId=46.1&from=qxb-c-api)
- [äº‹ä¸šå•ä½åŸºæœ¬ä¿¡æ¯](https://data.qixin.com/api-detail?categoryId=27C4602EBB38429EK08QR7fy&apiId=47.96&from=qxb-c-api)
- ...

## å®‰è£…

```bash
composer require jucloud/easy-organization
```

laravel æ‰©å±•åŒ…è¯· [ä¼ é€è‡³è¿™é‡Œ](https://github.com/jucloud/laravel-organization)

## ä½¿ç”¨ç¤ºä¾‹

åŸºæœ¬ä½¿ç”¨ï¼ˆä»¥å¤©çœ¼æŸ¥ä¸ºä¾‹ï¼‰:

```php
<?php

namespace App\Http\Controllers;

use JuCloud\EasyOrganization\EasyOrganization;

class IndexController
{
    protected $config = [
        'tianyancha' => [
            'default' => [
                // é€‰å¡«-é»˜è®¤ä¸ºæ­£å¸¸æ¨¡å¼ã€‚å¯é€‰ä¸ºï¼š MODE_NORMAL, MODE_SANDBOX, MODE_SERVICE
                'mode' => EasyOrganization::MODE_NORMAL,
                // å¿…å¡«-å¤©çœ¼æŸ¥åˆ†é…çš„ token
                'token' => 'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'
            ],       
        ],   
        'logger' => [ // optional
            'enable' => false,
            'file' => storage_path('logs/jucloud.organization.log'),,
            'level' => 'info', // å»ºè®®ç”Ÿäº§ç¯å¢ƒç­‰çº§è°ƒæ•´ä¸º infoï¼Œå¼€å‘ç¯å¢ƒä¸º debug
            'type' => 'single', // optional, å¯é€‰ daily.
            'max_file' => 30, // optional, å½“ type ä¸º daily æ—¶æœ‰æ•ˆï¼Œé»˜è®¤ 30 å¤©
        ],
        'http' => [ // optional
            'timeout' => 5.0,
            'connect_timeout' => 5.0,
            // æ›´å¤šé…ç½®é¡¹è¯·å‚è€ƒ [Guzzle](https://guzzle-cn.readthedocs.io/zh_CN/latest/request-options.html)
        ],
    ];

    public function search()
    {   
        // keyword å…³é”®è¯
        // page_size æ¯é¡µå¤§å°
        // page_index å½“å‰é¡µæ•°
        $result = EasyOrganization::tianyancha($this->config)->search([
            'keyword' => '',
            'page_size' => 0, //éå¿…å¡«
            'page_index' => 20, //éå¿…å¡«
        ]);

        return $result;
    }

}
```

## ä»£ç è´¡çŒ®

ç”±äºæµ‹è¯•åŠä½¿ç”¨ç¯å¢ƒçš„é™åˆ¶ï¼Œæœ¬é¡¹ç›®ä¸­åªå¼€å‘äº†å¤©çœ¼æŸ¥ã€ä¼æŸ¥æŸ¥ã€å¯ä¿¡å®çš„éƒ¨åˆ†ç½‘å…³ã€‚
å¦‚æœæ‚¨æœ‰å…¶å®ƒç½‘å…³çš„éœ€æ±‚ï¼Œæˆ–è€…å‘ç°æœ¬é¡¹ç›®ä¸­éœ€è¦æ”¹è¿›çš„ä»£ç ï¼Œ**_æ¬¢è¿ Fork å¹¶æäº¤ PRï¼_**

## LICENSE

MIT
